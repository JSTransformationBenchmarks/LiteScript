#!/bin/bash
#this bash script compiles code using v0.7 compiler
#storing generated file at /devel/out
#is used to compare output generated by 0.6 compiler 
#with output generated by 0.8 compiler (should be equal)

_lite="_lite"

targetLang="js"
targetTarget="js"
up3=$(echo $targetTarget | tr '[:lower:]' '[:upper:]')
echo "----------------------"
echo "using v0.7-to-$targetLang to generate ($targetLang code) v0.8 lite-to-$targetTarget compiler"
echo "----------------------"
OUT="../../generated/byV07/$targetLang/lite-to-$targetTarget"
if node ../../util/liteVersion -use v0.7/lite-to-$targetLang $targetLang$_lite -v 1 -D PROD_$up3 -o $OUT; then 
    echo "v07 generated OK ($targetLang code) lite-to-$targetTarget v0.8"
    echo "at $OUT"
fi

